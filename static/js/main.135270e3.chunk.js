(this.webpackJsonpshoppingcarts=this.webpackJsonpshoppingcarts||[]).push([[0],{18:function(e,t,a){var n={"./burger.jpg":33,"./pasta.jpg":34,"./pizza.jpg":35,"./sandwitch.jpg":36};function r(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=c,e.exports=r,r.id=18},22:function(e,t,a){e.exports=a(38)},27:function(e,t,a){},33:function(e,t,a){e.exports=a.p+"static/media/burger.79901f9a.jpg"},34:function(e,t,a){e.exports=a.p+"static/media/pasta.f0046d71.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/pizza.1a4e6340.jpg"},36:function(e,t,a){e.exports=a.p+"static/media/sandwitch.10e443d4.jpg"},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=a(13),i=a(1),s=a(2),u=a(4),m=a(3),d=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props,t=e.foodItem,a=e.handleClickToSelect,n=e.menuItemSelected,c=e.isSelected&&t.id===n.id?"card isSelected":"card",l=function(){return r.a.createElement("div",{className:c,onClick:function(){return a(t)}},r.a.createElement("div",{className:"card-photo",style:{backgroundImage:"url(".concat(t.photoUrl,")")}}),r.a.createElement("h3",{className:"name"},t.name),r.a.createElement("h4",{className:"price"},"$",t.price))};return r.a.createElement("div",null,r.a.createElement(l,null))}}]),a}(n.Component),p=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClickToSelect=function(e){n.setState((function(t){return{cartItemSelected:e,isSelectedFromCart:!0}}));n.props.getCartItemSelected(e,!0)},n.state={cartItemSelected:"",isSelectedFromCart:!1},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.cartItems,a=this.state,n=a.cartItemSelected,c=a.isSelectedFromCart,l=function(e){var t=e.total;return r.a.createElement("div",{className:"totalPrice"},r.a.createElement("h1",null,"Total Amount: $".concat(t)))},o=function(){return r.a.createElement("div",{className:"container cartEmpty"},r.a.createElement("h2",null,"Your cart is empty"),r.a.createElement("h5",null,'Select an item and click "Add to cart"'))};return t.length>0?r.a.createElement("div",{className:"container"},r.a.createElement("div",{style:{textAlign:"center",paddingTop:"5px",fontSize:"23px"}},r.a.createElement("p",null,"Your Cart")),r.a.createElement("hr",null),t.map((function(t){return r.a.createElement("div",{key:t.id,onClick:function(){return e.handleClickToSelect(t)}},r.a.createElement("div",null,r.a.createElement(d,{foodItem:t,handleClickToSelect:e.handleClickToSelect,menuItemSelected:n,isSelected:c})))})),r.a.createElement(l,{total:t.reduce((function(e,t){return e+Number(t.price)}),0).toFixed(2)})):r.a.createElement(o,null)}}]),a}(n.Component),f=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.handleAddToCart,n=t.handleRemoveFromCart,c=function(){return e.props.isSelectedFromMenu?r.a.createElement("div",null,r.a.createElement("button",{className:"cartButton",onClick:a},"Add to cart >>")):r.a.createElement("div",null,r.a.createElement("button",{className:"cartButton buttonPassive"},"Add to cart >>"))},l=function(){return e.props.isSelectedFromCart?r.a.createElement("div",null,r.a.createElement("button",{className:"cartButton buttonActive",onClick:n},"<< Remove to cart")):r.a.createElement("div",null,r.a.createElement("button",{className:"cartButton buttonPassive"},"<< Remove to cart"))};return r.a.createElement("div",{className:"buttons"},r.a.createElement(c,null),r.a.createElement(l,null))}}]),a}(n.Component),h=(a(27),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleClickToSelect=function(e){n.setState((function(t){return{menuItemSelected:e,isSelectedFromMenu:!0}}))},n.handleClickToUnselectFromMenu=function(){n.setState((function(e){return{menuItemSelected:"",isSelectedFromMenu:!1}}))},n.handleClickToUnselectFromCart=function(){n.setState((function(e){return{cartItemSelected:"",isSelectedFromCart:!1}}))},n.handleAddToCart=function(){var e=n.state,t=e.cartItems,a=e.menuItemSelected,r=!1;t.length>0&&t.forEach((function(e){e.id===a.id&&(console.log("item is:",e.id,"selected is",a.id),r=!0)})),r?alert("The item is Already in your cart"):n.setState((function(e){return{cartItems:[].concat(Object(o.a)(e.cartItems),[e.menuItemSelected])}})),n.handleClickToUnselectFromMenu()},n.handleRemoveFromCart=function(){n.state.cartItemSelected?n.setState((function(e){return{cartItems:e.cartItems.filter((function(e){return e.id!==n.state.cartItemSelected.id}))}})):alert("Please Select an Item from the cart first!"),n.handleClickToUnselectFromCart()},n.getCartItemSelected=function(e,t){n.setState({cartItemSelected:e,isSelectedFromCart:t})},n.TotalPrice=function(){var e=n.state.cartItems.reduce((function(e,t){return e+t.price}),0);n.setState({cartTotal:e})},n.state={menuItemSelected:"",cartItemSelected:"",isSelectedFromMenu:!1,isSelectedFromCart:!1,cartItems:[],MenuItems:[{photoUrl:"https://source.unsplash.com/MqT0asuoIcU/111x111",name:"pizza",price:"5.99",id:1},{photoUrl:"https://source.unsplash.com/9G_oJBKwi1c/111x111",name:"burger",price:"2.99",id:2},{photoUrl:"https://source.unsplash.com/7zfQ6sbWVyE/111x111",name:"Chicken Pasta",price:"2.99",id:3},{photoUrl:"https://source.unsplash.com/foHj73zCV3Y/111x111",name:"Grilled Sandwich",price:"2.99",id:4}]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.MenuItems,n=t.menuItemSelected,c=t.cartItems,l=t.isSelectedFromMenu,o=t.cartTotal,i=t.isSelectedFromCart,s=function(){return r.a.createElement("div",{className:"container m-auto"},r.a.createElement("div",{style:{textAlign:"center",fontSize:"25px"}},r.a.createElement("p",null,"Available Options")),r.a.createElement("hr",null),a.map((function(t){return r.a.createElement(d,{key:t.id,foodItem:t,handleClickToSelect:e.handleClickToSelect,menuItemSelected:n,isSelected:l})})))},u=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container m-auto cartEmpty"},r.a.createElement("h2",null,"Food Items are comming soon...")))};return a.length>0?r.a.createElement("div",{className:"container m-auto overlay"},r.a.createElement(s,null),r.a.createElement(f,{handleAddToCart:this.handleAddToCart,handleRemoveFromCart:this.handleRemoveFromCart,isSelectedFromMenu:l,isSelectedFromCart:i}),r.a.createElement(p,{cartItems:c,handleClickToSelect:this.handleClickToSelect,getCartItemSelected:this.getCartItemSelected,cartTotal:o})):r.a.createElement(u,null)}}]),a}(n.Component)),E=a(7),v=a(5),b=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.props.products.map((function(t){return r.a.createElement("div",{key:t.id,className:"col-md-4"},console.log(t.id),r.a.createElement("div",{className:"card text-center mb-4"},r.a.createElement("a",{href:"#".concat(t.id)},r.a.createElement("img",{width:"100%",height:"130px",src:a(18)("./".concat(t.name,".jpg")),alt:t.name})),r.a.createElement("h3",null,t.name),r.a.createElement("div",null,r.a.createElement("b",null,"Rs.".concat(t.price)),r.a.createElement("button",{className:"btn btn-primary ml-5 mb-1",onClick:function(){return e.props.addToCart(e.props.cartItems,t)}},"Add To Cart"))))}));return r.a.createElement("div",{className:"row"},t)}}]),n}(n.Component),C=Object(E.b)((function(e){return{products:e.products.filteredItems,cartItems:e.cart.cartItems}}),{fetchProducts:function(){return function(e){fetch("https://fir0j.github.io/JSON-Server/db.json").then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_PRODUCTS",payload:t})}))}},addToCart:function(e,t){return function(a){var n=!1,r=e.slice();return r.forEach((function(e){e.id===t.id&&(n=!0,e.count++)})),n||r.push(Object(v.a)(Object(v.a)({},t),{},{count:1})),localStorage.setItem("cartItems",JSON.stringify(r)),a({type:"ADD_TO_CART",payload:{cartItems:r}})}}})(b),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},this.props.filteredProducts.length," products found."),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",null,"Order by",r.a.createElement("select",{className:"form-control",value:this.props.products.priceType,onChange:function(t){return e.props.sortProducts(e.props.filteredProducts,t.target.value)}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"Lowest"},"Lowest to Highest"),r.a.createElement("option",{value:"Highest"},"Highest to Lowest")))),r.a.createElement("div",{className:"col-md-4"},r.a.createElement("label",null,"Filter Item",r.a.createElement("select",{className:"form-control",value:this.props.products.itemType,onChange:function(t){return e.props.filterProducts(e.props.products,t.target.value)}},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"pizza"},"pizza"),r.a.createElement("option",{value:"burger"},"burger"),r.a.createElement("option",{value:"pasta"},"pasta"),r.a.createElement("option",{value:"sandwitch"},"sandwitch")))))}}]),a}(n.Component),S=Object(E.b)((function(e){return{itemType:e.products.itemType,sortBy:e.products.sortBy,products:e.products.items,filteredProducts:e.products.filteredItems}}),{filterProducts:function(e,t){return function(a){return a({type:"FILTER_PRODUCTS_BY_TYPE",payload:{itemType:t,filteredItems:""===t?e:e.filter((function(e){return e.type===t}))}})}},sortProducts:function(e,t){return function(a){var n=e.slice();return n.sort((function(e,a){return"Highest"===t?e.price<a.price?1:-1:e.price>a.price?1:-1})),a({type:"FILTER_PRODUCTS_BY_PRICE",payload:{sortBy:t,sortedItems:n}})}}})(g),y=(a(37),function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props.cartItems,n=this.props.cartItems.map((function(t){return r.a.createElement("div",{key:t.id,className:"basketDesign"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"image"},r.a.createElement("a",{href:"#".concat(t.id)},r.a.createElement("img",{width:"20%",height:"60px",src:a(18)("./".concat(t.name,".jpg")),alt:t.name}))),t.name," x",t.count," = Rs.",(t.price*t.count).toFixed(2),r.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return e.props.removeFromCart(e.props.cartItems,t)}},"X"))))}));return r.a.createElement("div",{className:"alter alert-info"},0===t.length?r.a.createElement("div",{className:"cart"},"Basket is Empty"):"".concat(t.length," Products in the basket"),t.length>0&&r.a.createElement("div",null,n,r.a.createElement("center",null,r.a.createElement("b",null,"Total: Rs:",t.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2)),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return alert("Checkout Feature has not been implemented yet!")}},"Checkout"))))}}]),n}(n.Component)),O=Object(E.b)((function(e){return{cartItems:e.cart.cartItems}}),{removeFromCart:function(e,t){return function(a){var n=e.slice();return n=n.filter((function(e){return e.id!==t.id})),localStorage.setItem("cartItems",JSON.stringify(n)),a({type:"REMOVE_FROM_CART",payload:{cartItems:n}})}}})(y),I=a(8),j=a(20),T={items:[],filteredItems:[],itemType:""},N={cartItems:[]},x=Object(I.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(v.a)(Object(v.a)({},e),{},{filteredItems:t.payload,items:t.payload});case"FILTER_PRODUCTS_BY_TYPE":return Object(v.a)(Object(v.a)({},e),{},{filteredItems:t.payload.filteredItems,itemType:t.payload.type});case"FILTER_PRODUCTS_BY_PRICE":return Object(v.a)(Object(v.a)({},e),{},{filteredItems:t.payload.sortedItems,itemType:t.payload.sortBy});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return Object(v.a)(Object(v.a)({},e),{},{cartItems:t.payload.cartItems});default:return e}}}),k={};localStorage.getItem("cartItems")&&(k.cart={cartItems:JSON.parse(localStorage.getItem("cartItems"))});var F=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||I.d,P=Object(I.e)(x,k,F(Object(I.a)(j.a))),_=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,{store:P},r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Ecommerce Shopping Cart Application"),r.a.createElement("div",{className:"row"},r.a.createElement(S,null),r.a.createElement("hr",null),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(C,null)),r.a.createElement("div",{className:"col-md-4"},r.a.createElement(O,null)))))}}]),a}(n.Component),R=a(21),w=[{id:1,name:"Pizza",price:250},{id:2,name:"Burger",price:150},{id:3,name:"Sandwitch",price:100},{id:4,name:"Tandoori",price:300},{id:5,name:"Biryani",price:200}],A=Object(n.createContext)(null),U=Object(n.createContext)(null),M=Object(n.createContext)([]);A.displayName="cartContext",U.displayName="addToCartContext";var B=function(){var e=Object(n.useState)([]),t=Object(R.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",null,r.a.createElement(A.Provider,{value:a},r.a.createElement(U.Provider,{value:function(e){return c([].concat(Object(o.a)(a),[e]))}},r.a.createElement(M.Provider,{value:function(){return c([])}},r.a.createElement(z,{testingPropsPassing:"Menu"})))))};function z(e){var t=e.testingPropsPassing,a=Object(n.useContext)(U);return r.a.createElement("div",null,r.a.createElement(D,null),r.a.createElement("div",{className:"container flex justify-center md:border md:rounded m-auto text-center text-gray-900"},r.a.createElement("div",{className:"w-full md:max-w-sm px-1 border rounded bg-orange-300"},t,w.map((function(e){return r.a.createElement("div",{key:e.id,className:"flex justify-between my-1 pl-1 bg-orange-400 border rounded"},r.a.createElement("div",{className:"self-center text-gray-800"},e.name),r.a.createElement("div",{className:"self-center text-green-700"},"Rs.",e.price),r.a.createElement("button",{onClick:function(){return a(e)},className:"p-1 border rounded bg-orange-500 hover:bg-orange-600 hover:text-green-900"},"AddToCart"))})))))}function D(){var e=Object(n.useContext)(A),t=Object(n.useContext)(M);return r.a.createElement("div",null,r.a.createElement("li",{className:"container m-auto mb-4 py-1 flex justify-around bg-orange-400 text-gray-800 text-xs sm:text-base "},r.a.createElement("ul",null,"Shopping Cart"),r.a.createElement("ul",{className:"text-green-700"},"Total Items(",e.length,")"),r.a.createElement("span",{onClick:t,className:"px-1 ml-2 border border-orange-600 text-gray-800 opacity-25 hover:opacity-100 hover:text-red-800 cursor-pointer"},"X"),r.a.createElement("ul",{className:"text-green-700"},"Total Cost = ",function(e){return e.length>0?e.reduce((function(e,t){return e+t.price}),0).toFixed(2):0}(e)," "),r.a.createElement("ul",null,"Hello, firoj")))}function L(){return r.a.createElement("div",null,r.a.createElement(_,null),r.a.createElement(B,null),r.a.createElement(h,null))}l.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.135270e3.chunk.js.map