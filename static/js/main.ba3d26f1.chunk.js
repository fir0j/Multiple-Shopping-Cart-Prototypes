(this.webpackJsonpshoppingcarts=this.webpackJsonpshoppingcarts||[]).push([[0],{17:function(e,t,a){var r={"./burger.jpg":32,"./pasta.jpg":33,"./pizza.jpg":34,"./sandwitch.jpg":35};function n(e){var t=c(e);return a(t)}function c(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=c,e.exports=n,n.id=17},22:function(e,t,a){e.exports=a(37)},32:function(e,t,a){e.exports=a.p+"static/media/burger.985768f2.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/pasta.88b271db.jpg"},34:function(e,t,a){e.exports=a.p+"static/media/pizza.ab3d785c.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/sandwitch.8d8ae09f.jpg"},36:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(11),o=a.n(c),l=a(3),i=a(4),s=a(7),u=a(6),m=a(5),p=a(1),d=function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"UNSAFE_componentWillMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.props.products.map((function(t){return n.a.createElement("div",{key:t.id,className:"col-md-4"},console.log(t.id),n.a.createElement("div",{className:"card text-center mb-4"},n.a.createElement("a",{href:"#".concat(t.id)},n.a.createElement("img",{width:"100%",height:"130px",src:a(17)("./".concat(t.name,".jpg")),alt:t.name})),n.a.createElement("h3",null,t.name),n.a.createElement("div",null,n.a.createElement("b",null,"Rs.".concat(t.price)),n.a.createElement("button",{className:"btn btn-primary ml-5 mb-1",onClick:function(){return e.props.addToCart(e.props.cartItems,t)}},"Add To Cart"))))}));return n.a.createElement("div",{className:"row"},t)}}]),r}(r.Component),f=Object(m.b)((function(e){return{products:e.products.filteredItems,cartItems:e.cart.cartItems}}),{fetchProducts:function(){return function(e){fetch("https://fir0j.github.io/JSON-Server/db.json").then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_PRODUCTS",payload:t})}))}},addToCart:function(e,t){return function(a){var r=!1,n=e.slice();return n.forEach((function(e){e.id===t.id&&(r=!0,e.count++)})),r||n.push(Object(p.a)(Object(p.a)({},t),{},{count:1})),localStorage.setItem("cartItems",JSON.stringify(n)),a({type:"ADD_TO_CART",payload:{cartItems:n}})}}})(d),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-4"},this.props.filteredProducts.length," products found."),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("label",null,"Order by",n.a.createElement("select",{className:"form-control",value:this.props.products.priceType,onChange:function(t){return e.props.sortProducts(e.props.filteredProducts,t.target.value)}},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"Lowest"},"Lowest to Highest"),n.a.createElement("option",{value:"Highest"},"Highest to Lowest")))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("label",null,"Filter Item",n.a.createElement("select",{className:"form-control",value:this.props.products.itemType,onChange:function(t){return e.props.filterProducts(e.props.products,t.target.value)}},n.a.createElement("option",{value:""},"Select"),n.a.createElement("option",{value:"pizza"},"pizza"),n.a.createElement("option",{value:"burger"},"burger"),n.a.createElement("option",{value:"pasta"},"pasta"),n.a.createElement("option",{value:"sandwitch"},"sandwitch")))))}}]),a}(r.Component),b=Object(m.b)((function(e){return{itemType:e.products.itemType,sortBy:e.products.sortBy,products:e.products.items,filteredProducts:e.products.filteredItems}}),{filterProducts:function(e,t){return function(a){return a({type:"FILTER_PRODUCTS_BY_TYPE",payload:{itemType:t,filteredItems:""===t?e:e.filter((function(e){return e.type===t}))}})}},sortProducts:function(e,t){return function(a){var r=e.slice();return r.sort((function(e,a){return"Highest"===t?e.price<a.price?1:-1:e.price>a.price?1:-1})),a({type:"FILTER_PRODUCTS_BY_PRICE",payload:{sortBy:t,sortedItems:r}})}}})(E),v=(a(36),function(e){Object(s.a)(r,e);var t=Object(u.a)(r);function r(){return Object(l.a)(this,r),t.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var e=this,t=this.props.cartItems,r=this.props.cartItems.map((function(t){return n.a.createElement("div",{key:t.id,className:"basketDesign"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("div",{className:"image"},n.a.createElement("a",{href:"#".concat(t.id)},n.a.createElement("img",{width:"20%",height:"60px",src:a(17)("./".concat(t.name,".jpg")),alt:t.name}))),t.name," x",t.count," = Rs.",(t.price*t.count).toFixed(2),n.a.createElement("button",{className:"btn btn-danger ml-2",onClick:function(){return e.props.removeFromCart(e.props.cartItems,t)}},"X"))))}));return n.a.createElement("div",{className:"alter alert-info"},0===t.length?n.a.createElement("div",{className:"cart"},"Basket is Empty"):"".concat(t.length," Products in the basket"),t.length>0&&n.a.createElement("div",null,r,n.a.createElement("center",null,n.a.createElement("b",null,"Total: Rs:",t.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2)),n.a.createElement("br",null),n.a.createElement("button",{className:"btn btn-primary",onClick:function(){return alert("Checkout Feature has not been implemented yet!")}},"Checkout"))))}}]),r}(r.Component)),g=Object(m.b)((function(e){return{cartItems:e.cart.cartItems}}),{removeFromCart:function(e,t){return function(a){var r=e.slice();return r=r.filter((function(e){return e.id!==t.id})),localStorage.setItem("cartItems",JSON.stringify(r)),a({type:"REMOVE_FROM_CART",payload:{cartItems:r}})}}})(v),h=a(8),y=a(19),O={items:[],filteredItems:[],itemType:""},j={cartItems:[]},C=Object(h.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(p.a)(Object(p.a)({},e),{},{filteredItems:t.payload,items:t.payload});case"FILTER_PRODUCTS_BY_TYPE":return Object(p.a)(Object(p.a)({},e),{},{filteredItems:t.payload.filteredItems,itemType:t.payload.type});case"FILTER_PRODUCTS_BY_PRICE":return Object(p.a)(Object(p.a)({},e),{},{filteredItems:t.payload.sortedItems,itemType:t.payload.sortBy});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":case"REMOVE_FROM_CART":return Object(p.a)(Object(p.a)({},e),{},{cartItems:t.payload.cartItems});default:return e}}}),I={};localStorage.getItem("cartItems")&&(I.cart={cartItems:JSON.parse(localStorage.getItem("cartItems"))});var N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,x=Object(h.e)(C,I,N(Object(h.a)(y.a))),T=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return n.a.createElement(m.a,{store:x},n.a.createElement("div",{className:"container"},n.a.createElement("h2",null,"Ecommerce Shopping Cart Application"),n.a.createElement("div",{className:"row"},n.a.createElement(b,null),n.a.createElement("hr",null),n.a.createElement("div",{className:"col-md-8"},n.a.createElement(f,null)),n.a.createElement("div",{className:"col-md-4"},n.a.createElement(g,null)))))}}]),a}(r.Component),_=a(20),P=a(21),R=[{id:1,name:"Pizza",price:250},{id:2,name:"Burger",price:150},{id:3,name:"Sandwitch",price:100},{id:4,name:"Tandoori",price:300},{id:5,name:"Biryani",price:200}],S=Object(r.createContext)(null),w=Object(r.createContext)(null),k=Object(r.createContext)([]);S.displayName="cartContext",w.displayName="addToCartContext";var F=function(){var e=Object(r.useState)([]),t=Object(P.a)(e,2),a=t[0],c=t[1];return n.a.createElement("div",null,n.a.createElement(S.Provider,{value:a},n.a.createElement(w.Provider,{value:function(e){return c([].concat(Object(_.a)(a),[e]))}},n.a.createElement(k.Provider,{value:function(){return c([])}},n.a.createElement(D,{testingPropsPassing:"Menu"})))))};function D(e){var t=e.testingPropsPassing,a=Object(r.useContext)(w);return n.a.createElement("div",null,n.a.createElement(B,null),n.a.createElement("div",{className:"container flex justify-center md:border md:rounded m-auto text-center text-gray-900"},n.a.createElement("div",{className:"w-full md:max-w-sm px-1 border rounded bg-orange-300"},t,R.map((function(e){return n.a.createElement("div",{key:e.id,className:"flex justify-between my-1 pl-1 bg-orange-400 border rounded"},n.a.createElement("div",{className:"self-center text-gray-800"},e.name),n.a.createElement("div",{className:"self-center text-green-700"},"Rs.",e.price),n.a.createElement("button",{onClick:function(){return a(e)},className:"p-1 border rounded bg-orange-500 hover:bg-orange-600 hover:text-green-900"},"AddToCart"))})))))}function B(){var e=Object(r.useContext)(S),t=Object(r.useContext)(k);return n.a.createElement("div",null,n.a.createElement("li",{className:"container m-auto mb-4 py-1 flex justify-around bg-orange-400 text-gray-800 text-xs sm:text-base "},n.a.createElement("ul",null,"Shopping Cart"),n.a.createElement("ul",{className:"text-green-700"},"Total Items(",e.length,")"),n.a.createElement("span",{onClick:t,className:"px-1 ml-2 border border-orange-600 text-gray-800 opacity-25 hover:opacity-100 hover:text-red-800 cursor-pointer"},"X"),n.a.createElement("ul",{className:"text-green-700"},"Total Cost = ",function(e){return e.length>0?e.reduce((function(e,t){return e+t.price}),0).toFixed(2):0}(e)," "),n.a.createElement("ul",null,"Hello, firoj")))}function z(){return n.a.createElement("div",null,n.a.createElement(T,null),n.a.createElement(F,null))}o.a.render(n.a.createElement(z,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.ba3d26f1.chunk.js.map